---
type Drawings = string[]

interface Props {
    drawings: Drawings;
    intro?: string
}

const defaultIntro = "Les enfants ont fait des jolis dessins"
const { drawings, intro = defaultIntro } = Astro.props;
---

<section>
    <h3 class="bug-title">Les oeuvres des enfants</h3>
    <p>
        {intro}
    </p>

    <div class="bug-drawing">
        {drawings.map((drawing,i)=> {

            let className = "landscape";
            if( i==5 || i==4 ||i==1 ) className = "portrait";
            if( i==6 ) className = "square";
            return <figure class={className}  style={`--bg-image: url('${drawing}')`}>
                <img src={drawing} alt={`${i+1}`} />
                <figcaption>Dessin par enfant {i+1}</figcaption>
            </figure>
        })}

    </div>
</section>

<style lang="scss">
    section {
        margin-bottom: 2rem;
    }

    .bug-drawing {
        /*display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-gap: 1rem;*/
        width: 100%;
        columns: 4;
        column-gap: 1rem;
    }
    figure {
        margin: 0;
        display: inline-block;
        width: 100%;
        margin: 0 0 2rem;
        position: relative;
        &:before {
            content:"";
            position: absolute;
            width: 100%;
            height: 100%;
            background: var(--bg-image);
            background-size: cover;
            border-radius: 15px;
            filter: blur(8px);
        }


        //&.portrait { grid-row-end: span 2; }
        // &.landscape { grid-row-end: span 1; }
        // &.square { grid-row-end: span 2; }*

        figcaption {
            font-style: italic;
            margin-left: 15px;
            position: absolute;
        }
        img {
            position: relative;
            z-index: 1;
            width: 100%;
            height: 100%;
            border-radius: 15px;
            object-fit: contain;
            object-fit: cover;
            aspect-ratio: 1;
            display: block;
        }
        &:nth-child(3n+1) {
            // aspect-ratio: 3/2;
        }
        &:nth-child(4n) {
            // aspect-ratio: 1;
        }
    }
    
</style>